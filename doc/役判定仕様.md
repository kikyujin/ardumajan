# 正規牌表現
|記号|意味
|--|--
|.|任意の１文字
|[abc]|abcのどれか１文字
|[1-9]|数字１から９
|\||OR
|(…)|メンツ

# メンツ表記
メンツは3文字でラベルされる

1文字目（メンツ種類）
- T 対子 / t 対子(ロン) / !t 門前
- K 刻子 / k 明刻・ロン / !k 門前
- S 順子 / s チー・ロン / !s 門前

2文字目（牌種）・3文字目（番号）
- M[1-9] 萬子１～９
- P[1-9] 筒子１～９
- Z[1-9] 索子１～９
- F[1-4] 東・南・西・北
- H[1-3] 白・發・中

3文字目
- x 場風or自分の風
- y 場風でも自分の風でもない

条件式に読み込まれたメンツはメモリーされ、以下のように参照される
- rk メンツ種類
- rp 牌種 
- rn 番号

指定のパターンが含まれる数を参照する
- n

|説明|簡易表記|並び|説明|
|--|--|--|--|
|門前メンツ|ANY|([!t!k!s]..)
|役牌刻子|KYH|(KFx)\|(KH.)
|字牌|ZHM|([TK][FH].)
|中張牌|CHU|([TK][MPZ][2-8])\|([S].[2-6])|

|コマンド名|説明|返り値
|--|--|--|
|'all *ment*|当該以降すべてが*ment*にマッチ|すべてマッチしたら1/0
|'count *ment*|当該以降*ment*にマッチしたものをカウント|n
|'mrep *ment* __cmd__|1. *ment*にマッチしたものをメモリー<br>2. 当該以降のメンツで __cmd__ をリピート| __cmd__ が n(!=0) で n / リピート終了で 0
|'eq|マッチしたら1|1/0
|'double __cmd__|__cmd__ が２回マッチしたら1

※__ment__にはスペースを入れないでください


# 役一覧
|名称|翻数|手牌解析アクション|備考|
|--|--|--|--|
|メンゼンチンツモ (門前清自摸和)|1|'all ANY
|ヤクハイ (役牌)|n|'count KYH|n>=1(排他役あり)
|タンヤオ (断么九)|1|'all CHU
|ピンフ (平和)|1|'all (T[MPZ].)|(TFy)|\|(S..)|ただし両面待ち
|イーペーコー (一盃口)|1|'mrep (!s..) 'eq (rkrprn)|
|サンショクドウジュン (三色同順)|2|'mrep (SM.) 'mrep (SPrn) 'eq (SZrn)|鳴いてたら1翻
|サンショクドウコウ (三色同刻)|2|'mrep (KM.) 'mrep (KPrn) 'eq (KZrn)
|サンアンコウ (三暗刻)|2|'count (k..)|n==3
|イッキツウカン (一気通貫)|2|'mrep (S.1) 'mrep (Srp4) 'eq (Srp7)|鳴いてたら1翻
|トイトイホー (対々和)|2|'all ([TK]..)|全部暗刻は役満
|チャンタ (混全帯幺九)|2|'all ~CHU|鳴いてたら1翻
|ショウサンゲン (小三元)|2|'count ([TK]H.)|n>=3(大三元と排他)
|ホンロウトウ (混老頭)|2|'all ([TK][MPZ][19])\|ZHM
|リャンペーコー (二盃口)|3|'double 'mrep (!s..) 'eq (rrr)
|ジュンチャン (純全帯公九)|3|'all ([TK][MPZ][2-8]) \| (S[MPZ][2-6])|鳴いてたら2翻
|ホンイツ (混一色)[M]|3|'all (.M.)\|ZHM|鳴いてたら2翻
|ホンイツ (混一色)[P]|3|'all (.P.)\|ZHM|鳴いてたら2翻
|ホンイツ (混一色)[Z]|3|'all (.Z.)\|ZHM|鳴いてたら2翻
|チンイツ (清一色)[M]|6|'all (.M.)|鳴いてたら5翻
|チンイツ (清一色)[P]|6|'all (.P.)|鳴いてたら5翻
|チンイツ (清一色)[Z]|6|'all (.Z.)|鳴いてたら5翻





# 保留
- リーチ
- 一発
- ハイテイ (海底撈月)
- ホウテイ (河底撈魚)
- リンシャンカイホウ (嶺上開花)
- チャンカン (槍槓)
- ダブルリーチ (ダブル立直)
- チートイツ (七対子)
- サンカンツ (三槓子)
- 役満
